<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>UParty</title>
    <link rel="stylesheet" href="./css/index.css">
    <link rel="stylesheet" href="./base/base.css">
    <link rel="stylesheet" href="./base/reset.css">
    <link rel="stylesheet" href="./base/variables.css">
    <link rel="stylesheet" href="./layouts/button.css">
    <link rel="stylesheet" href="./layouts/cards.css">
    <link rel="stylesheet" href="./layouts/header.css">
    
</head>
<body>
<header>
    <section class="header"> 
        <div class="container_header">
            <div class="header_logo">
                <img src="./assets/images/logo.svg" alt="logo">
            </div>
            <div class="header_search">
                <input type="text" class="search-input" placeholder="Поиск">
                <button class="search-button">
                    <div class="search_symbol">
                        <img src="./assets/images/search.png" alt="поиск">
                    </div>
                </button>
            </div>

            <div class="header_user-menu">
                <div class="header_user-notify">
                    <a href="#"><img src="./assets/images/notification-icon.svg" alt="Уведомления"></a>
                </div>
                <div class="header_user-account">
                    <a href="#"><img src="./assets/images/avatar_user.png" alt="Аккаунт пользователя"></a>
                </div>
            </div>
        </div>
    </section>
</header>

<main>
    <section class="event">
        <div class="container_event">
            <div class="event_board">
                <div class="card_title-btn">
                    <h1>ПРИЗРАК ОПЕРЫ</h1>
                </div>
                <div class="card_slider-timetable">
                    <div class="card_slider">
                        <div class="slider-container">
                            <div class="main-slider" id="mainSlider">
                                <!-- Слайды будут добавлены через JavaScript -->
                            </div>
                            <div class="slider-controls">
                                <button class="nav-btn prev-btn" id="prevBtn">
                                    <img src="./assets/images/arrow-prev.png" alt="стрелка">
                                </button>
                                <div class="thumbnails" id="thumbnails">
                                    <!-- Миниатюры будут добавлены через JavaScript -->
                                </div>
                                <button class="nav-btn next-btn" id="nextBtn">
                                    <img src="./assets/images/arrow-next.png" alt="стрелка">
                                </button>
                            </div>
                        </div>
                            
                        <div class="fullscreen" id="fullscreenSlider">
                            <div class="fullscreen-bg" id="fullscreenBg"></div>
                            <span class="close-btn" id="closeBtn">&times;</span>
                            <div class="fullscreen-slider" id="fullscreenSliderContainer">
                                <!-- Слайды для полноэкранного режима -->
                            </div>
                            <button class="nav-btn-fullscreen prev-btn-fullscreen" id="fullscreenPrevBtn">
                                <img src="./assets/images/arrow-prev.png" alt="стрелка">
                            </button>
                            <button class="nav-btn-fullscreen next-btn-fullscreen" id="fullscreenNextBtn">
                                <img src="./assets/images/arrow-next.png" alt="стрелка">
                            </button>
                            <div class="fullscreen-thumbnails" id="fullscreenThumbnails">
                                <!-- Миниатюры для полноэкранного режима -->
                            </div>
                        </div>
                    </div>
                    <div class="card_timetable">
                        <div class="card_timetable-date">
                            <p>09.02.25 | 19:00</p>
                            <p>Адрес: ул.Спасская, 12А</p>
                            <p class="card_timetable-age">0+</p>
                        </div>
                        
                        <div class="card_timetable-tag">
                            <a href="">#УютнаяАтмосфера</a>
                            <a href="">#ХорошееЗаведение</a>
                            <div class="card_timetable-btn ">
                                <button class="buy-btn btn-yellow" onclick="openSeatSelection()">Купить билет</button>
                            </div>
                        </div>
                        
                    </div>
                    
                </div>
            </div>
            
            <div class="event_description">
                <h2>О событии</h2>
                <p>Шедевр, покоривший сердца миллионов зрителей по всему миру! Почувствуйте магию музыки двух великих композиторов: «Эндрю Ллойда Уэббера и Мори Йестона» — окунитесь в захватывающую историю любви, жизни и смерти.</p>
                <p>Основа сюжета — мелодраматические отношения начинающей певицы Кристин и влюблённых в неё покровителя «Оперы» графа де Шандо и её учителя музыки Эрика, имеющего причины скрывать лицо под маской.</p>
            </div>
            <div class="event_map">
                <h2>Местоположение</h2>
                <div class="event_map-constructor">
                    <iframe src="https://yandex.ru/map-widget/v1/?um=constructor%3A3fb1cad61363fecd6f013b310cb9150d92d09c50373d557e07831eca20eda70a&amp;source=constructor" width="1230" height="705" frameborder="0"></iframe>
                </div>
            </div>
        </div>
    </section>
</main>

<!-- МОДАЛЬНЫЕ ОКНА -->
<div id="seatSelectionModal" class="modal">
    <div class="modal-content-first">
        <div class="modal-header">
            <div class="event-info">
                <div class="event-name">ПРИЗРАК ОПЕРЫ 0+</div>
                <div class="event-date">09.02.25 | 19:00</div>
            </div>
            <button class="close-btn" onclick="showCancelConfirmation('seatSelectionModal')">×</button>
        </div>
        
        <div class="seating-area">
            <div class="seats-container" id="seatsContainer">
                <!-- Места будут сгенерированы через JavaScript -->
            </div>
            <div class="stage">СЦЕНА</div>
        </div>
        
        <div class="seat-info">
            <div class="selected-info">
                <div>Ряд: <span id="selectedRow">-</span></div>
                <div>Место: <span id="selectedSeat">-</span></div>
                <div class="price">Стоимость: <span id="totalPrice">0</span> руб.</div>
            </div>
            <button class="confirm-btn btn-yellow" onclick="goToPaymentMethod()">Купить</button>
        </div>
    </div>
</div>

<div id="cancelConfirmationModal" class="modal">
    <div class="modal-content confirmation-modal">
        <div class="confirmation-text">
            Уверены, что хотите прекратить покупку?
        </div>
        <div class="confirmation-buttons">
            <button class="cancel-btn btn-pink" onclick="closeCancelConfirmation()">Отмена</button>
            <button class="confirm-cancel-btn btn-yellow" onclick="closeAllModals()">Да, прекратить</button>
        </div>
    </div>
</div>

<div id="paymentMethodModal" class="modal">
    <div class="modal-content">
        <div class="modal-header">
            <div class="modal-title">Выберите способ оплаты</div>
            <button class="close-btn" onclick="showCancelConfirmation('paymentMethodModal')">×</button>
        </div>
        
        <div class="event-info">
            <div class="event-name">ПРИЗРАК ОПЕРЫ 0+</div>
            <div id="paymentDetails">Ряд <span id="paymentRow">-</span>, Место <span id="paymentSeat">-</span></div>
        </div>
        
        <div class="payment-methods-new">
            <div class="payment-top-block" onclick="selectPaymentMethodNew(this, 'card')">
                <div class="payment-text-info">
                    <div>Банковская карта</div>
                    <div>Моментальная оплата</div>
                </div>
                <div class="payment-horizontal-image">
                    <img class="payment-horizontal-img" src="./assets/images/cards.png" alt="Карты">
                </div>
            </div>
            
            <div class="payment-bottom-row">
                <div class="payment-side-block" onclick="selectPaymentMethodNew(this, 'sbp')">
                    <div class="payment-side-image">
                        <img class="payment-horizontal-img" src="./assets/images/sbp.png" alt="СБП">
                    </div>
                </div>
                
                <div class="payment-side-block" onclick="selectPaymentMethodNew(this, 'sber')">
                    <div class="payment-side-image">
                        <img class="payment-horizontal-img" src="./assets/images/sber.png" alt="Сбер">
                    </div>
                </div>
            </div>
        </div>
        
        <div class="payment-details">
            <button class="back-btn btn-pink" onclick="goBackToPreviousSelection()">Назад</button>
            <div class="price">Стоимость: <span id="paymentPrice">0</span> руб.</div>
        </div>
    </div>
</div>

<div id="cardPaymentModal" class="modal">
    <div class="modal-content">
        <div class="modal-header">
            <div class="modal-title">Оплата банковской картой</div>
            <button class="close-btn" onclick="showCancelConfirmation('cardPaymentModal')">×</button>
        </div>
        
        <div class="card-payment">
            <div class="card-logo">
                <div class="card-logo-icon">
                    <img src="./assets/images/TBank.png" alt="T-Bank">
                </div>
            </div>
            
            <div class="input-group">
                <label>Номер карты</label>
                <div class="input-with-icon">
                    <span class="input-icon">
                        <img src="./assets/images/CreditCard.png" alt="Карта">
                    </span>
                    <input type="text" placeholder="0000 0000 0000 0000" maxlength="19">
                </div>
            </div>
            
            <div class="card-details">
                <div class="input-group">
                    <label>Срок действия</label>
                    <div class="input-with-icon">
                        <span class="input-icon">
                            <img src="./assets/images/Calendar3.png" alt="Календарь">
                        </span>
                        <input type="text" placeholder="ММ/ГГ" maxlength="5">
                    </div>
                </div>
                
                <div class="input-group">
                    <label>CVC/CVV</label>
                    <div class="input-with-icon">
                        <span class="input-icon">
                            <img src="./assets/images/lock.png" alt="Замок">
                        </span>
                        <input type="text" placeholder="000" maxlength="3">
                    </div>
                </div>
            </div>
            
            <div class="save-card">
                <input type="checkbox" id="saveCard">
                <label for="saveCard">Сохранить эту карту</label>
            </div>
            
            <div class="payment-amount">
                Сумма оплаты: 3 200 руб.
            </div>
        </div>
        
        <div class="payment-details">
            <button class="back-btn btn-pink" onclick="goBackToPaymentMethod()">Назад</button>
            <button class="confirm-btn btn-yellow" onclick="processPayment()">Оплатить</button>
        </div>
    </div>
</div>

<div id="successModal" class="modal">
    <div class="modal-content">
        <div class="success-content">
            <div class="success-icon">✓</div>
            <div class="success-amount">3 200 руб.</div>
            <div class="success-message">Платёж успешно завершен!</div>
            
            <div class="info-block">
                <div class="info-row">
                    <span>Номер платежа:</span>
                    <span>#12345678</span>
                </div>
            </div>
            
            <div class="info-block">
                <div class="info-row">
                    <span>Продавец:</span>
                    <span>Театр "Сцена"</span>
                </div>
                <div class="info-row">
                    <span>Скидка:</span>
                    <span>15%</span>
                </div>
                <div class="info-row">
                    <span>Комиссия:</span>
                    <span>0</span>
                </div>
                <div class="info-row">
                    <span>Платёжная система:</span>
                    <span>T-Bank</span>
                </div>
            </div>
            
            <button class="return-btn btn-yellow" onclick="closeAllModals()">Вернуться на главную</button>
        </div>
    </div>
</div>

<script src="./js/index.js"></script>
</body>
</html>