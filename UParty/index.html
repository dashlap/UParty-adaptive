<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>UParty</title>
    <link rel="stylesheet" href="./css/index.css">
    <link rel="stylesheet" href="./base/base.css">
    <link rel="stylesheet" href="./base/reset.css">
    <link rel="stylesheet" href="./base/variables.css">
    <link rel="stylesheet" href="./layouts/button.css">
    <link rel="stylesheet" href="./layouts/cards.css">
    <link rel="stylesheet" href="./layouts/header.css">
    
</head>
<body>
<header>
    <section class="header"> 
        <div class="container_header">
            <div class="header_logo">
                <a href="./index.html"><img src="./assets/images/logo.svg" alt="logo"></a>
            </div>
            <div class="header_search">
                <input type="text" class="search-input" placeholder="Поиск">
                <button class="search-button">
                    <div class="search_symbol">
                        <img src="./assets/images/search.png" alt="поиск">
                    </div>
                </button>
            </div>

            <div class="header_user-menu">
                <div class="header_user-notify">
                    <a href="#"><img src="./assets/images/notification-icon.svg" alt="Уведомления"></a>
                </div>
                <div class="header_user-account">
                    <a href="#"><img src="./assets/images/avatar_user.png" alt="Аккаунт пользователя"></a>
                </div>
            </div>
        </div>
    </section>
</header>

<main>
    <section class="event">
        <div class="container_event">
            <div class="event_board">
                <div class="card_title-btn">
                    <h1>ПРИЗРАК ОПЕРЫ</h1>
                </div>
                <div class="card_slider-timetable">
                    <div class="card_slider">
                        <div class="slider-container">
                            <div class="main-slider" id="mainSlider">
                            </div>
                            <div class="slider-controls">
                                <button class="nav-btn prev-btn" id="prevBtn">
                                    <img src="./assets/images/arrow-prev.png" alt="стрелка">
                                </button>
                                <div class="thumbnails" id="thumbnails">
                                </div>
                                <button class="nav-btn next-btn" id="nextBtn">
                                    <img src="./assets/images/arrow-next.png" alt="стрелка">
                                </button>
                            </div>
                        </div>
                            
                        <div class="fullscreen" id="fullscreenSlider">
                            <div class="fullscreen-bg" id="fullscreenBg"></div>
                            <span class="close-btn" id="closeBtn">&times;</span>
                            <div class="fullscreen-slider" id="fullscreenSliderContainer">
                                <!-- Слайды для полноэкранного режима -->
                            </div>
                            <button class="nav-btn-fullscreen prev-btn-fullscreen" id="fullscreenPrevBtn">
                                <img src="./assets/images/arrow-prev.png" alt="стрелка">
                            </button>
                            <button class="nav-btn-fullscreen next-btn-fullscreen" id="fullscreenNextBtn">
                                <img src="./assets/images/arrow-next.png" alt="стрелка">
                            </button>
                            <div class="fullscreen-thumbnails" id="fullscreenThumbnails">
                                <!-- Миниатюры для полноэкранного режима -->
                            </div>
                        </div>
                    </div>
                    <div class="card_timetable">
                        <div class="card_timetable-date">
                            <p>09.02.25 | 19:00</p>
                            <p>Адрес: ул.Спасская, 12А</p>
                            <div class="card_timetable-age">
                                <p>0+</p>
                            </div>
                        </div>
                        
                        <div class="card_timetable-tag">
                            <a href="">#УютнаяАтмосфера</a>
                            <a href="">#ХорошееЗаведение</a>
                            <div class="card_timetable-btn ">
                                <button class="buy-btn btn-yellow" onclick="openSeatSelection()">Купить билет</button>
                            </div>
                        </div>
                        
                    </div>
                    
                </div> 
            </div>
            
            <div class="event_description">
                <h2>О событии</h2>
                <p>Шедевр, покоривший сердца миллионов зрителей по всему миру! Почувствуйте магию музыки двух великих композиторов: «Эндрю Ллойда Уэббера и Мори Йестона» — окунитесь в захватывающую историю любви, жизни и смерти.</p>
                <p>Основа сюжета — мелодраматические отношения начинающей певицы Кристин и влюблённых в неё покровителя «Оперы» графа де Шандо и её учителя музыки Эрика, имеющего причины скрывать лицо под маской.</p>
            </div>
            <div class="event_map">
                <h2>Местоположение</h2>
                <div class="event_map-block">
                    <div class="event_map-constructor">
                        <iframe src="https://yandex.ru/map-widget/v1/?um=constructor%3A3fb1cad61363fecd6f013b310cb9150d92d09c50373d557e07831eca20eda70a&amp;source=constructor" width="1230" height="705" frameborder="0"></iframe>
                        <div class="event_map-btn">
                            <a href="https://yandex.ru/maps/195/ulyanovsk/?ll=48.403131%2C54.314194&mode=routes&rtext=~54.314953%2C48.401505&rtt=auto&ruri=~ymapsbm1%3A%2F%2Forg%3Foid%3D1034445542&z=14"><button class="btn-yellow">Построить маршрут</button></a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>
</main>

<!-- МОДАЛЬНЫЕ ОКНА -->
<div id="seatSelectionModal" class="modal">
    <div class="modal-content-first">
        <div class="modal-header">
            <div class="event-info">
                <div class="event-name">
                    <h5>ПРИЗРАК ОПЕРЫ 0+</h5>
                </div>
                <div class="event-date">
                    <p>09.02.25 | 19:00</p>
                </div>
            </div>
            <button class="close-btn" onclick="showCancelConfirmation('seatSelectionModal')">×</button>
        </div>
        
        <div class="seating-area">
            <div class="seats-container" id="seatsContainer">
                
            </div>
            <div class="stage"><h5>СЦЕНА</h5></div>
        </div>
        
        <div class="seat-info">
            <div class="selected-info">
                <div class="selected-info_row">
                    <h5>Ряд: <span id="selectedRow">-</span></h5>
                </div>
                <div class="selected-info_seat">
                    <h5>Место: <span id="selectedSeat">-</span></h5>
                </div>
                <div class="price">
                    <h5>Стоимость: <span id="totalPrice">0</span> руб.</h5>
                </div>
            </div>
            <button class="confirm-btn btn-yellow" onclick="goToPaymentMethod()">Купить</button>
        </div>
    </div>
</div>

<div id="cancelConfirmationModal" class="modal">
    <div class="modal-content confirmation-modal">
        <div class="confirmation-text">
            <p>Уверены, что хотите прекратить покупку?</p>
        </div>
        <div class="confirmation-buttons">
            <button class="cancel-btn btn-pink" onclick="closeCancelConfirmation()">Отмена</button>
            <button class="confirm-cancel-btn btn-yellow" onclick="closeAllModals()">Да, прекратить</button>
        </div>
    </div>
</div>

<div id="paymentMethodModal" class="modal">
    <div class="modal-content">
        <div class="modal-header">
            <div class="modal-title"><h5>Выберите способ оплаты</h5></div>
            <button class="close-btn" onclick="showCancelConfirmation('paymentMethodModal')">×</button>
        </div>
        
        <div class="event-info">
            <div class="event-name"><h5>ПРИЗРАК ОПЕРЫ 0+</h5></div>
            <div class="event-name_payment" id="paymentDetails">
                <p>Ряд: <span id="paymentRow">-</span>, Место: <span id="paymentSeat">-</span></p>
            </div>
        </div>
        
        <div class="payment-methods-new">
            <div class="payment-top-block" onclick="selectPaymentMethodNew(this, 'card')">
                <div class="payment-text-info">
                    <div><h5>Банковская карта</h5></div>
                    <div><p>Моментальная оплата</p></div>
                </div>
                <div class="payment-horizontal-image">
                    <img class="payment-horizontal-img" src="./assets/images/cards.png" alt="Карты">
                </div>
            </div>
            
            <div class="payment-bottom-row">
                <div class="payment-side-block" onclick="selectPaymentMethodNew(this, 'sbp')">
                    <div class="payment-side-image">
                        <img class="payment-horizontal-img" src="./assets/images/sbp.png" alt="СБП">
                    </div>
                </div>
                
                <div class="payment-side-block" onclick="selectPaymentMethodNew(this, 'sber')">
                    <div class="payment-side-image">
                        <img class="payment-horizontal-img" src="./assets/images/sber.png" alt="Сбер">
                    </div>
                </div>
            </div>
        </div>
        
        <div class="payment-details">
            <button class="back-btn btn-pink" onclick="goBackToPreviousSelection()">Назад</button>
            <div class="price">
                <p>Цена <span class="payment-amount">0</span> руб.</p>
            </div>
        </div>
    </div>
</div>

<div id="cardPaymentModal" class="modal">
    <div class="modal-content">
        <div class="modal-header">
            <div class="modal-title"><h5>Оплата банковской картой</h5></div>
            <button class="close-btn" onclick="showCancelConfirmation('cardPaymentModal')">×</button>
        </div>
        
        <div class="card-payment">
            <div class="card-logo">
                <div class="card-logo-icon">
                    <img src="./assets/images/TBank.png" alt="T-Bank">
                </div>
            </div>
            
            <div class="input-group">
                <label><h6>Номер карты</h6>
                </label>
                <div class="input-with-icon">
                    <span class="input-icon">
                        <img src="./assets/images/CreditCard.png" alt="Карта">
                    </span>
                    <input type="text" placeholder="Введите номер карты" maxlength="19">
                </div>
            </div>
            
            <div class="card-details">
                <div class="input-group ">
                    <label><h6>Срок действия</h6></label>
                    <div class="validity-period">
                        <div class="input-with-icon">
                            <span class="input-icon">
                                <img src="./assets/images/Calendar3.png" alt="Календарь">
                            </span>
                            <input type="text" placeholder="ММ/ГГ" maxlength="5">
                        </div>
                        <div class="input-with-icon">
                            <span class="input-icon">
                                <img src="./assets/images/lock.png" alt="Замок">
                            </span>
                            <input type="text" placeholder="CVC" maxlength="3">
                        </div>
                    </div>
                </div>
                
                
            </div>
            
            <div class="save-card">
                <input type="checkbox" id="saveCard">
                <label for="saveCard"><p>Сохранить эту карту</p></label>
            </div>
            
            <div class="payment-amount">
                <h4>Сумма оплаты: <span id="paymentPrice"> 0 </span> руб.<h4>
            </div>
        </div>
        
        <div class="payment-details">
            <button class="back-btn btn-pink" onclick="goBackToPaymentMethod()">Назад</button>
            <button class="confirm-btn btn-yellow" onclick="processPayment()">Оплатить</button>
        </div>
    </div>
</div>

<div id="successModal" class="modal">
    <div class="modal-content">
        <div class="success-content">
            <div class="success-icon">
                <img src="./assets/images/success.png" alt="успешно">
            </div>
            <div class="success-amount">
                <h2>3 200 ₽</h2>
            </div>
            <div class="success-message">
                <p>Платёж успешно завершен!</p>
            </div>
            
            <div class="info-block">
                <div class="info-row">
                    <span><h5>Номер платежа:</h5></span>
                    <span><p>#12345678</p></span>
                </div>
            </div>
            
            <div class="info-block">
                <div class="info-row">
                    <span><h5>Продавец:</h5></span>
                    <span><p>UParty</p></span>
                </div>
                <div class="info-row">
                    <span><h5>Скидка:</h5></span>
                    <span><p>15%</p></span>
                </div>
                <div class="info-row">
                    <span><h5>Комиссия:</h5></span>
                    <span><p>0</p></span>
                </div>
                <div class="info-row">
                    <span><h5>Платёжная система:</h5></span>
                    <span><p>T-Bank</p></span>
                </div>
            </div>
            
            <button class="return-btn btn-yellow" onclick="closeAllModals()">Вернуться на главную</button>
        </div>
    </div>
</div>

<script src="./js/index.js"></script>
</body>
<footer>
    <section class="footer">
        <div class="footer_info">
            <div class="footer_info-copyright">
                <a href="./index.html"><img src="./assets/images/logo.svg" alt="logo"></a>
                <p>© UParty(© 2025-2026, IT ISDO) </p>
                <p>Все права защищены.</p>
            </div>
            <div class="footer_info-contacts">
                <p>Телефон: 8(800)555-35-35</p>
                <p>Адрес: г. Ульяновск, ул. Северный Венец, 32</p>
                <a href="">Скачать приложение</a>
            </div>
        </div>
    </section>
</footer>
</html>